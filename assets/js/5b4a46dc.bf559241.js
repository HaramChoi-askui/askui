"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4993],{5318:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return d}});var r=n(7378);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=r.createContext({}),u=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},c=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,l=e.parentName,c=a(e,["components","mdxType","originalType","parentName"]),f=u(n),d=i,m=f["".concat(l,".").concat(d)]||f[d]||p[d]||o;return n?r.createElement(m,s(s({ref:t},c),{},{components:n})):r.createElement(m,s({ref:t},c))}));function d(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,s=new Array(o);s[0]=f;var a={};for(var l in t)hasOwnProperty.call(t,l)&&(a[l]=t[l]);a.originalType=e,a.mdxType="string"==typeof e?e:i,s[1]=a;for(var u=2;u<o;u++)s[u]=n[u];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},4447:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return l},default:function(){return d},frontMatter:function(){return a},metadata:function(){return u},toc:function(){return p}});var r=n(5773),i=n(808),o=(n(7378),n(5318)),s=["components"],a={custom_edit_url:null,sidebar_position:3},l="Writing Your First Test",u={unversionedId:"general/Getting Started/writing-your-first-test",id:"general/Getting Started/writing-your-first-test",title:"Writing Your First Test",description:"Quickstart",source:"@site/docs/general/02-Getting Started/writing-your-first-test.md",sourceDirName:"general/02-Getting Started",slug:"/general/Getting Started/writing-your-first-test",permalink:"/docs/general/Getting Started/writing-your-first-test",editUrl:null,tags:[],version:"current",sidebarPosition:3,frontMatter:{custom_edit_url:null,sidebar_position:3},sidebar:"docsSidebar",previous:{title:"Installing askui",permalink:"/docs/general/Getting Started/getting-started"},next:{title:"Selecting UI Elements",permalink:"/docs/general/Best Practice/selecting_ui_elements"}},c={},p=[{value:"Quickstart",id:"quickstart",level:2},{value:"Manual",id:"manual",level:2}],f={toc:p};function d(e){var t=e.components,n=(0,i.Z)(e,s);return(0,o.kt)("wrapper",(0,r.Z)({},f,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"writing-your-first-test"},"Writing Your First Test"),(0,o.kt)("h2",{id:"quickstart"},"Quickstart"),(0,o.kt)("p",null,"To create your first test suite, enter"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"npx askui init\n")),(0,o.kt)("p",null,"This is going to create"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"a ",(0,o.kt)("inlineCode",{parentName:"li"},"tsconfig.json"),": ",(0,o.kt)("a",{parentName:"li",href:"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html"},"a json file specifying the root files and the compiler options required to compile the project"),","),(0,o.kt)("li",{parentName:"ul"},"a folder called ",(0,o.kt)("inlineCode",{parentName:"li"},"test")," which includes:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"test/my-first-askui-test-suite.test.ts"),": an example test with askui,"),(0,o.kt)("li",{parentName:"ul"},"a folder ",(0,o.kt)("inlineCode",{parentName:"li"},"helper")," which contains ",(0,o.kt)("inlineCode",{parentName:"li"},"jest.setup.ts")," file: this file is setting up the test environment for all tests"),(0,o.kt)("li",{parentName:"ul"},"a ",(0,o.kt)("inlineCode",{parentName:"li"},"jest.config.ts"),": file for configuration of Jest,")))),(0,o.kt)("p",null,"To execute the test suite, enter"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"npx jest test/my-first-askui-test-suite.test.ts --config ./test/jest.config.ts \n")),(0,o.kt)("p",null,"You should now see the test suite being executed inside the shell and, actually, your cursor should move to some text shown on your screen and click on that text. \ud83c\udf89 Congratulations! You just executed your first test suite using askui."),(0,o.kt)("h2",{id:"manual"},"Manual"),(0,o.kt)("p",null,"At the beginning we create a new folder with the name ",(0,o.kt)("inlineCode",{parentName:"p"},"test"),". For the next step we create the ",(0,o.kt)("inlineCode",{parentName:"p"},"my-first-askui-test-suite.test.ts")," file in our ",(0,o.kt)("inlineCode",{parentName:"p"},"test")," folder. It is also possible to create test files in other folders and with other names."),(0,o.kt)("p",null,"Copy the following over into that file:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import { AskuiClient, AskuiControlServer } from '@vqa4gui/askui';\n\ndescribe('jest with askui', () => {\n  \n  // Server for controlling the operating system\n  let askuiControlServer: AskuiControlServer;\n  \n  // Client is necessary to use the askui API\n  let askuiClient: AskuiClient;\n  \n  jest.setTimeout(60 * 1000 * 60);\n  \n  beforeAll(async () => {\n    askuiControlServer = new AskuiControlServer({\n      /**\n       * Select the display you want to run your tests on, display 0 is your main display;\n       * ignore if you have only one display\n       */\n      display: 0,\n    });\n    \n    await askuiControlServer.start();\n\n    askuiClient  = new AskuiClient();\n    \n    await askuiClient.connect();\n  });\n\n  it('should click on text', async () => {\n    await askuiClient \n      .click()\n      .text()\n      .exec();\n  });\n\n  afterAll(async () => {\n     askuiClient.close();\n     await askuiControlServer.stop();\n  });\n});\n")),(0,o.kt)("p",null,"You also need to create a configuration file for Jest. Therefore you can create a file with the name ",(0,o.kt)("inlineCode",{parentName:"p"},"jest.config.ts"),"\nin the ",(0,o.kt)("inlineCode",{parentName:"p"},"test")," folder of your project and copy the following content in this file"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"\nmodule.exports = {\n  preset: 'ts-jest',\n  testEnvironment: 'node',\n};\n\n")),(0,o.kt)("p",null,"You should also add a configuration file for Typescript in your project root folder.\nCreate a file with the name ",(0,o.kt)("inlineCode",{parentName:"p"},"tsconfig.json")," and fill in this code:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "compilerOptions": {\n      "module": "CommonJS",\n      "esModuleInterop": true,\n      "moduleResolution": "node"\n    }\n  }\n\n')),(0,o.kt)("p",null,"Now, just execute the following command in order to run the test suite:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"npx jest test/my-first-askui-test-suite.test.ts --config ./test/jest.config.ts \n")),(0,o.kt)("p",null,"You can also use ",(0,o.kt)("inlineCode",{parentName:"p"},"npx jest")," to test all your Jest test files and ",(0,o.kt)("inlineCode",{parentName:"p"},"npx jest <folder name>/")," to test all files in a certain folder.\nIf your jest config file e.g. ",(0,o.kt)("inlineCode",{parentName:"p"},"jest.config.ts")," is not in your root folder you can use ",(0,o.kt)("inlineCode",{parentName:"p"},"--config")," to specify the location of your config file. In this example the config file is in the ",(0,o.kt)("inlineCode",{parentName:"p"},"test")," folder, that's why we need to provide the location our config file."),(0,o.kt)("p",null,"You should now see the test suite being executed inside the shell and, actually, your cursor should move to some text shown on your screen and click on that text. \ud83c\udf89 Congratulations! You just executed your first test suite using askui."))}d.isMDXComponent=!0}}]);